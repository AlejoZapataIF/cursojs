<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Tienda Virtual</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <style>
    /*En este ejemplo, hemos utilizado CSS flexbox para que los cards se muestren horizontalmente en la clase .contenedor. 
      La propiedad flex-wrap: wrap permite que los cards se envuelvan a la siguiente línea cuando no caben en la pantalla, 
	  y justify-content: space-between distribuye el espacio horizontalmente entre los elementos.
      Además, hemos establecido un ancho fijo para cada card utilizando flex-basis para que ocupen aproximadamente un tercio 
	  del ancho del contenedor, y hemos añadido un margen para separarlos. 
	  Esto crea una disposición horizontal ordenada de los cards. Ajusta los valores según tus necesidades de diseño.
    */
    /* Estilo para la clase "contenedor" */
    .contenedor {
      display: flex; /* Muestra los elementos hijos en línea (horizontalmente) */
      flex-wrap: wrap; /* Permite que los elementos se envuelvan a la siguiente línea cuando no caben en la pantalla */
      justify-content: space-between; /* Distribuye el espacio horizontalmente entre los elementos */
    }

    /* Estilo para los cards */
    .card {
      margin: 5px; /* Agrega un margen entre los cards */
	  border: 1px solid #c1c2ca;
	  padding: 16px;
	  border-radius: 20px;
    }
    .encabezado{
  	background: #279b9bd6;
  	margin-top: -21px;
  	height: 60px;
    }
  </style>
</head>

<body>
  <div class="encabezado">
     <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g><g><g><path d="M17.92,34.304C8.028,34.304,0,42.332,0,52.224c0,9.902,8.028,17.92,17.92,17.92s17.92-8.018,17.92-17.92 C35.84,42.332,27.812,34.304,17.92,34.304z"/><path d="M146.432,391.68c-23.552,0-43.008,19.456-43.008,43.008c0,24.064,19.456,43.008,43.008,43.008 s43.008-19.456,43.008-43.008S169.984,391.68,146.432,391.68z M146.432,464.896c-16.384,0-30.208-13.312-30.208-30.208 c0-16.384,13.312-30.208,30.208-30.208c16.384,0,30.208,13.312,30.208,30.208C176.128,451.584,162.816,464.896,146.432,464.896z"/><path d="M122.88,41.472H42.496c1.536,3.072,2.048,6.656,2.048,10.752c0,3.584-1.024,7.168-2.048,10.752h64.512l71.168,272.384 l-43.52,43.52c-2.56,2.56-4.096,5.12-5.632,8.192c5.632-2.048,11.264-3.072,16.896-3.072c4.096,0,8.192,0.512,11.776,1.536 l43.008-43.008H445.44v-20.992H196.096L122.88,41.472z"/><path d="M189.44,406.016c4.096,6.144,7.168,13.312,8.192,20.992h154.112c1.024-7.68,4.096-14.848,8.192-20.992H189.44z"/><path d="M402.432,391.68c-23.552,0-43.008,19.456-43.008,43.008c0,24.064,19.456,43.008,43.008,43.008 c23.552,0,43.008-19.456,43.008-43.008S426.496,391.68,402.432,391.68z M402.432,464.896c-16.384,0-30.208-13.312-30.208-30.208 c0-16.384,13.312-30.208,30.208-30.208c16.384,0,30.208,13.312,30.208,30.208S419.328,464.896,402.432,464.896z"/><path d="M160.256,139.776l45.056,172.032h240.64L512,139.776H160.256z M399.872,154.624h41.472L431.104,192h-37.376 L399.872,154.624z M342.528,154.624h41.984L378.368,192H340.48L342.528,154.624z M270.336,154.624L271.872,192h-37.888 l-5.632-37.376H270.336z M185.856,178.176l-6.144-23.552h33.792L219.136,192H189.44L185.856,178.176z M203.264,244.736 l-1.024-3.072l-8.704-34.304h28.16l5.632,37.376H203.264z M217.088,296.96l-9.728-37.376h22.528l5.632,37.376H217.088z M237.056,207.36h36.352l1.536,37.376h-32.256L237.056,207.36z M250.88,296.96l-5.632-37.376h30.72l1.536,37.376H250.88z M318.976,296.96h-26.624l-1.536-37.376h30.72L318.976,296.96z M322.048,244.736h-32.256l-1.536-37.376h36.352L322.048,244.736z M325.12,192h-37.888l-1.536-37.376h41.984L325.12,192z M360.448,296.96h-26.624l2.048-37.376h30.72L360.448,296.96z M369.152,244.736h-32.256l2.048-37.376h36.352L369.152,244.736z M401.92,296.96h-26.112l6.144-37.376h30.208L401.92,296.96z M384.512,244.736l6.144-37.376h35.84l-10.24,37.376H384.512z M435.2,296.96h-17.408l10.24-37.376h21.504L435.2,296.96z M455.168,244.736h-23.552l10.24-37.376h27.648L455.168,244.736z M446.464,192l10.24-37.376h33.28L475.648,192H446.464z"/></g></g></g></svg>
  </div> 
  <a href="carritodecompra.html"> Carrito de Compra </a>
  <div class="contenedor"></div>

  <script>
    // Función para obtener datos de la API ficticia
    async function obtenerProductos() {
      try {
        const response = await fetch('https://fakestoreapi.mapatagbusqueda.repl.co/products');
        if (!response.ok) {
          throw new Error('Error en la solicitud');
        }
        const data = await response.json();
        return data;
      } catch (error) {
        console.error('Error:', error);
        return [];
      }
    }
    
    document.addEventListener("DOMContentLoaded", async () => {
      const contenedor = document.querySelector(".contenedor");
      const prods = await obtenerProductos();

      let productos = "";
      prods.test.forEach((product) => {
	localStorage.setItem(`product_${product.id}`, JSON.stringify(product));
        productos += `
          <div class="card" style="width: 18rem;">
            <img src="${product.image}" style="width: 100px" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-text">${product.title}</h5>
              <p class="card-text">${product.price}</p>
              <a href="detalleproducto.html?id=${product.id}" class="btn btn-primary">Ver Detalle</a>
            </div>
          </div>
        `;
      });

      contenedor.innerHTML = productos; // Agrega el contenido al elemento con la clase "contenedor"
    });
  </script>
</body>
</html>
